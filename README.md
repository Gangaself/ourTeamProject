# Portfolio Manager System


## How to Run
1. 使用Mysql workBench运行db.sql文件，建表并添加模拟数据。
2. Start server: `npm start`
3. Open browser: `http://localhost:3000/view_portfolios.html` // public目录下具体文件名



##资产管理系统页面说明文档
本文档旨在详细说明资产管理系统页面的功能、结构及使用方法。该页面是一个单页应用，用于展示、管理用户的各类资产（如股票、债券、ETF、现金等），支持资产的查询、添加、编辑和删除等操作，并能实时计算资产的市值和盈亏情况。
页面结构
页面采用左侧导航 + 右侧主内容的经典布局，具体结构如下：
1. 左侧导航栏（.sidebar）
导航标题（.sidebar-header）：显示 "资产管理" 系统名称
导航菜单（.sidebar-menu）：包含 "所有资产" 选项，用于切换不同的资产视图
2. 右侧主内容区（.main-content）
主内容区包含以下核心模块：
2.1 搜索栏（.search-bar）
用于筛选和查询资产，包含以下元素：

搜索标题：显示 "资产搜索"
搜索字段：
资产 ID：按资产唯一标识查询
资产名称 / 代码：按名称或代码模糊查询
资产类型：下拉选择（STOCK、BOND、ETF、CASH、OTHER）
投资组合：下拉选择（5 种预设组合）
购买日期：按购买日期筛选
操作按钮：
重置：清空所有搜索条件
搜索：执行筛选操作
添加资产：打开添加资产模态框（核心功能入口）
2.2 资产数据表格（.data-table）
展示资产列表，包含以下列：

投资组合：显示资产所属组合（以标签形式展示）
类型：显示资产类型（以彩色标签形式展示，不同类型有不同颜色）
代码：资产的交易代码
名称：资产的名称
数量：持有数量
购买价格：买入时的单价
当前价格：资产的当前市场价格
市值：当前总价值（数量 × 当前价格）
盈亏：收益情况（市值 - 成本）及收益率，盈利为绿色，亏损为红色
购买日期：买入资产的日期
货币：资产的计价货币
操作：包含编辑和删除按钮
2.3 分页控件（.pagination）
用于多页数据的浏览，包含上一页、下一页和页码按钮
3. 模态框（弹窗）
3.1 添加 / 编辑资产模态框（#add-modal）
用于新增资产或编辑现有资产，包含以下表单字段：

组合 ID：选择资产所属组合（1-5）
资产类型：选择资产类型
资产代码：输入资产交易代码
获取当前价格：按钮，点击后通过 API 获取该代码的最新价格
资产名称：资产的名称
当前价格：显示获取到的最新价格（只读）
买入价格：买入时的单价
数量：持有数量
买入日期：选择买入日期
货币：计价货币（默认为 USD）
操作按钮：取消和提交
3.2 删除确认模态框（#delete-confirm-modal）
删除资产前的确认弹窗，防止误操作，包含确认和取消按钮
核心功能说明
1. 资产查询与筛选
用户可通过搜索栏中的各种条件组合，精确查找所需资产。点击 "搜索" 按钮后，系统会根据条件从后端获取数据并刷新表格；点击 "重置" 按钮则清空所有条件，显示全部资产。
2. 资产列表展示
表格以清晰的方式展示资产的关键信息，通过颜色区分资产类型和盈亏状态，直观易懂。
3. 资产添加
点击 "添加资产" 按钮，在弹出的表单中填写相关信息（部分字段可自动获取），提交后数据将保存到数据库，并刷新资产列表。
4. 资产编辑
点击表格中的 "编辑" 按钮，系统会加载该资产的当前信息到编辑表单中，修改后提交即可更新数据库中的记录。
5. 资产删除
点击表格中的 "删除" 按钮，系统会弹出确认窗口，确认后将从数据库中删除该资产记录，并刷新列表。
数据交互说明
数据获取：页面加载时及每次筛选条件变化时，通过fetchAssets()函数从后端 API（http://localhost:3000/api/assets/all）获取资产数据
单资产查询：编辑资产时，通过loadAssetForEdit(id)函数从/api/assets/:id获取单条资产详情
资产添加：通过 POST 请求发送数据到/api/assets
资产更新：通过 PUT 请求发送数据到/api/assets/:id
资产删除：通过 DELETE 请求发送到/api/assets/:id
价格获取：使用 Alpha Vantage API（https://www.alphavantage.co/query）获取股票等资产的实时价格
使用说明与注意事项
使用前需确保后端 API 服务（http://localhost:3000/api）已启动并正常运行
价格获取功能依赖 Alpha Vantage API，需替换代码中的apiKey为有效的 API 密钥
API 调用有频率限制，若提示 "调用频率受限"，请稍后再试
组合 ID 限制为 1-5，对应预设的 5 个投资组合
所有带 "*" 的字段为必填项，提交前请确保已正确填写